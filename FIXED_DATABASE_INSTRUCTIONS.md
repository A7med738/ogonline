# ุฅุตูุงุญ ูุดููุฉ ON CONFLICT - ูุธุงู ุงุญุฌุฒูู

## โ **ุงููุดููุฉ:**
```
ERROR: 42P10: there is no unique or exclusion constraint matching the ON CONFLICT specification
```

## ๐ **ุงูุณุจุจ:**
- `ON CONFLICT (id) DO NOTHING` ูุญุงูู ุงุณุชุฎุฏุงู constraint ุบูุฑ ููุฌูุฏ
- ุงูุฌุฏุงูู ูุง ุชุญุชูู ุนูู constraint ูุฑูุฏ ุนูู `id`
- ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุชุญุงูู ุฅุฏุฑุงุฌ ููุณ ุงูุจูุงูุงุช ูุฑุชูู

## โ **ุงูุญู:**

### **ุงูุฎุทูุฉ 1: ุงุณุชุฎุฏุงู ุงูููู ุงููุญุฏุซ**

**ุงุณุชุฎุฏู ููู `CREATE_BOOK_SERVICE_TABLES_FIXED.sql` ุจุฏูุงู ูู ุงูููู ุงูุณุงุจู**

### **ุงูุฎุทูุฉ 2: ุชุดุบูู SQL ูู Supabase Dashboard**

1. **ุงูุชุญ Supabase Dashboard:**
   - ุงุฐูุจ ุฅูู: https://supabase.com/dashboard
   - ุงุฎุชุฑ ูุดุฑูุนู

2. **ุงูุชุญ SQL Editor:**
   - ุงุถุบุท ุนูู "SQL Editor" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
   - ุงุถุบุท ุนูู "New query"

3. **ุงูุณุฎ ูุงูุตู ุงูููุฏ:**
   - ุงูุชุญ ููู `CREATE_BOOK_SERVICE_TABLES_FIXED.sql`
   - ุงูุณุฎ ุฌููุน ูุญุชููุงุช ุงูููู
   - ุงูุตู ูู SQL Editor

4. **ุดุบู ุงูููุฏ:**
   - ุงุถุบุท ุนูู "Run" ุฃู `Ctrl+Enter`
   - ุงูุชุธุฑ ุญุชู ููุชูู ุงูุชูููุฐ

### **ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงูุฌุฏุงูู**

1. **ุงุฐูุจ ุฅูู Table Editor:**
   - ุงุถุบุท ุนูู "Table Editor" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

2. **ุชุญูู ูู ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ:**
   - `book_service_health_centers`
   - `book_service_clinics`
   - `book_service_appointments`
   - `book_service_clinic_queues`
   - `book_service_queue_status`

## ๐ง **ูุง ุชู ุฅุตูุงุญู:**

### **1. ุฅุฒุงูุฉ ON CONFLICT:**
- ุชู ุญุฐู `ON CONFLICT (id) DO NOTHING`
- ุชู ุงุณุชุจุฏุงูู ุจู `DELETE` ุฃููุงู ุซู `INSERT`

### **2. ุชุฑุชูุจ ุงูุฅุฏุฑุงุฌ:**
- ุญุฐู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุฃููุงู
- ุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ุจุนุฏ ุฐูู

### **3. ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ:**
- ูุฑูุฒ ุตุญู ูุงุญุฏ: "ูุฑูุฒ ุงูุตุญุฉ ุงูุดุงูู"
- 11 ุนูุงุฏุฉ ูุฎุชููุฉ
- ุจูุงูุงุช ุงูุทุงุจูุฑ ููู ุนูุงุฏุฉ

## ๐ **ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ:**

### **ุงููุฑูุฒ ุงูุตุญู:**
- **ุงูุงุณู:** ูุฑูุฒ ุงูุตุญุฉ ุงูุดุงูู
- **ุงูุนููุงู:** ุดุงุฑุน ุงูููู ููุฏุ ุญู ุงููุฎููุ ุงูุฑูุงุถ
- **ุงููุงุชู:** +966501234567
- **ุงูุชูููู:** 4.8/5
- **ุงูุฎุฏูุงุช:** ุทุจ ุนุงูุ ุฃุทูุงูุ ูุณุงุก ูููุงุฏุฉุ ุฃุณูุงูุ ุนูููุ ุฃูู ูุฃุฐู ูุญูุฌุฑุฉุ ุฌูุฏูุฉุ ุนุธุงูุ ููุจุ ุฃุนุตุงุจ

### **ุงูุนูุงุฏุงุช:**
1. **ุนูุงุฏุฉ ุงูุทุจ ุงูุนุงู** - ุฏ. ุฃุญูุฏ ูุญูุฏ (150 ุฑูุงู)
2. **ุนูุงุฏุฉ ุงูุฃุทูุงู** - ุฏ. ูุงุทูุฉ ุนูู (200 ุฑูุงู)
3. **ุนูุงุฏุฉ ุงููุณุงุก ูุงูููุงุฏุฉ** - ุฏ. ูุฑูู ุญุณู (300 ุฑูุงู)
4. **ุนูุงุฏุฉ ุงูุฃุณูุงู** - ุฏ. ุฎุงูุฏ ุนุจุฏุงููู (250 ุฑูุงู)
5. **ุนูุงุฏุฉ ุงูุนููู** - ุฏ. ููุฑุง ุณุนุฏ (180 ุฑูุงู)
6. **ุนูุงุฏุฉ ุงูุฃูู ูุงูุฃุฐู** - ุฏ. ุนูุฑ ููุณู (220 ุฑูุงู)
7. **ุนูุงุฏุฉ ุงูุฌูุฏูุฉ** - ุฏ. ูููุง ูุญููุฏ (200 ุฑูุงู)
8. **ุนูุงุฏุฉ ุงูุนุธุงู** - ุฏ. ุณุนุฏ ุงูุฏูู (280 ุฑูุงู)
9. **ุนูุงุฏุฉ ุงูููุจ** - ุฏ. ูุฏู ุฃุญูุฏ (350 ุฑูุงู)
10. **ุนูุงุฏุฉ ุงูุฃุนุตุงุจ** - ุฏ. ููุณู ูุญูุฏ (320 ุฑูุงู)
11. **ุนูุงุฏุฉ ุงูุจุงุทูุฉ** - ุฏ. ุฑูู ุนุจุฏุงูุฑุญูู (240 ุฑูุงู)

## ๐ฏ **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**

ุจุนุฏ ุชุดุบูู SQL:
- โ **ุงูุญุฌุฒ ุณูุนูู ุจุฏูู ุฃุฎุทุงุก**
- โ **ูุธุงู ุงูุทุงุจูุฑ ุณูุนูู ุชููุงุฆูุงู**
- โ **ุงููุฑูุถ ุณูุญุตู ุนูู ุฑูู ุทุงุจูุฑ**
- โ **ุฌููุน ุงูุตูุญุงุช ุณุชุนูู ุจุดูู ุตุญูุญ**
- โ **ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุณุชููู ุฌุงูุฒุฉ**

## โ๏ธ **ููุงุญุธุงุช ูููุฉ:**

1. **ุงุณุชุฎุฏู ุงูููู ุงููุญุฏุซ:** `CREATE_BOOK_SERVICE_TABLES_FIXED.sql`
2. **ูุง ุชุญุฐู ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ** - ูุฐุง ุงููุธุงู ูููุตู ุชูุงูุงู
3. **ุฃุณูุงุก ุงูุฌุฏุงูู ุชุจุฏุฃ ุจู `book_service_`** - ูุชุฌูุจ ุงูุชุฏุงุฎู
4. **ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุฌุงูุฒุฉ** - ููููู ุงูุจุฏุก ุจุงูุงุฎุชุจุงุฑ ููุฑุงู

---
**ุชุงุฑูุฎ ุงูุฅุตูุงุญ**: 2025-01-25  
**ุงูุญุงูุฉ**: ุชู ุงูุฅุตูุงุญ ุจูุฌุงุญ โ
