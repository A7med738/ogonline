# نظام فئات المدارس

## نظرة عامة
تم إنشاء نظام شامل لإدارة فئات المدارس في التطبيق، مما يسمح بتقسيم المدارس إلى ثلاث فئات رئيسية:
- مدارس حكومية
- مدارس ناشونال
- مدارس انترناشونال

## الميزات المضافة

### 1. قاعدة البيانات
- **جدول `school_categories`**: يحتوي على معلومات الفئات
- **تحديث جدول `schools`**: إضافة `category_id` للربط بالفئات
- **فهارس محسنة**: لتحسين الأداء
- **سياسات RLS**: للأمان والتحكم في الوصول

### 2. إدارة المدراء
- **صفحة إدارة الفئات**: `/admin` → الخدمات التعليمية → فئات المدارس
- **إضافة فئات جديدة**: مع الألوان والأيقونات
- **تعديل الفئات**: تحديث المعلومات والألوان
- **ترتيب الفئات**: إمكانية تغيير ترتيب العرض
- **تفعيل/إلغاء تفعيل**: إدارة حالة الفئات

### 3. واجهة المستخدمين
- **فلترة متقدمة**: حسب نوع المدرسة
- **بحث ذكي**: في أسماء ووصف المدارس
- **ترتيب متعدد**: حسب التقييم، الاسم، أو السعة
- **عرض الفئات**: مع الألوان المخصصة
- **إحصائيات مباشرة**: عدد النتائج المفلترة

## الملفات المضافة/المحدثة

### ملفات قاعدة البيانات
- `create_school_categories.sql`: إنشاء الجداول والسياسات
- `supabase/migrations/20241220_create_school_categories.sql`: Migration للـ Supabase

### مكونات React
- `src/pages/admin/SchoolCategoriesManagement.tsx`: إدارة الفئات للمدراء
- `src/pages/admin/EducationalServicesManagement.tsx`: صفحة إدارة الخدمات التعليمية
- `src/pages/EducationalServicesSchools.tsx`: صفحة المدارس للمستخدمين (محدثة)

## كيفية الاستخدام

### للمدراء
1. انتقل إلى لوحة الإدارة
2. اختر "الخدمات التعليمية"
3. اختر "فئات المدارس"
4. أضف أو عدّل الفئات حسب الحاجة

### للمستخدمين
1. انتقل إلى "الخدمات التعليمية" → "مدارس"
2. استخدم الفلاتر للبحث عن نوع معين من المدارس
3. استخدم البحث للعثور على مدرسة محددة
4. رتب النتائج حسب التفضيل

## الفئات الافتراضية

### 1. مدارس حكومية
- **اللون**: أخضر (#10B981)
- **الأيقونة**: school
- **الوصف**: المدارس الحكومية التابعة لوزارة التربية والتعليم

### 2. مدارس ناشونال
- **اللون**: برتقالي (#F59E0B)
- **الأيقونة**: graduation-cap
- **الوصف**: المدارس الناشونال الخاصة

### 3. مدارس انترناشونال
- **اللون**: بنفسجي (#8B5CF6)
- **الأيقونة**: globe
- **الوصف**: المدارس الدولية

## الأمان
- **RLS مفعل**: على جدول الفئات
- **وصول المدراء فقط**: لإدارة الفئات
- **وصول عام للقراءة**: لعرض الفئات النشطة
- **تشفير البيانات**: باستخدام Supabase

## الأداء
- **فهارس محسنة**: للبحث السريع
- **فلترة على مستوى قاعدة البيانات**: لتقليل البيانات المنقولة
- **تخزين مؤقت**: للفئات والبيانات الثابتة
- **تحميل تدريجي**: للبيانات الكبيرة

## التطوير المستقبلي
- إضافة المزيد من الفئات حسب الحاجة
- تحسين واجهة الإدارة
- إضافة تقارير إحصائية
- دعم الصور المخصصة للفئات
- تصدير البيانات

## الدعم التقني
لأي مشاكل أو استفسارات، يرجى التواصل مع فريق التطوير.
